-- community 테이블 생성
CREATE TABLE COMMUNITY 
(
    C_CODE VARCHAR2(20) NOT NULL,           -- 소모임 코드
    C_TITLE VARCHAR2(100) NOT NULL,          -- 제목
    C_CONTENT VARCHAR2(2000) NOT NULL,       -- 내용
    USER_ID VARCHAR2(20) NOT NULL,          -- 회원 아이디
    C_DATE DATE DEFAULT SYSDATE             -- 날짜
);

INSERT INTO COMMUNITY VALUES('c0000000000','산책 좋아하시나요?',' 관악구에 사시는분 주말에 같이 산책 하실분 구합니다.','abc123',sysdate);
INSERT INTO COMMUNITY VALUES('c0000000001','동안구 산책러 구합니다','동안구 범계역 근처 중앙공원에서 산책하실 분! 구해영','tjdus776',sysdate);
INSERT INTO COMMUNITY VALUES('c0000000002','사람 산책도 가능한가요?','강아지대신 저를 산책해 주실 분 구합니다','pow111',sysdate);
INSERT INTO COMMUNITY VALUES('c0000000003','인삼 개껌 공구하실분','개껌 5개 반값 할인 같이 공구하시분 구합니다. 맛도좋아요.','joke12',sysdate);

ALTER TABLE COMMUNITY
    ADD CONSTRAINT C_CODE_PK PRIMARY KEY (C_CODE);

-- 시간 한국 표준시 (맥북)
-- ALTER SESSION SET TIME_ZONE = '09:00';


-- community 댓글 
CREATE TABLE COMDAT
(
    D_NUM NUMBER(10) NOT NULL,         	   -- 시퀀스 
    D_CODE VARCHAR2(20) NOT NULL,          -- 소모임 코드
    USER_ID VARCHAR2(20) NOT NULL,         -- 회원 아이디
    D_CONTENT VARCHAR2(500) NOT NULL,      -- 댓글 내용
    D_DATE DATE DEFAULT SYSDATE            -- 날짜
);



CREATE SEQUENCE CD_SEQ
  START WITH 1
  INCREMENT BY 1
  MAXVALUE 10000
  MINVALUE 1
  NOCYCLE;

ALTER TABLE COMDAT
    ADD CONSTRAINT D_NUM_PK PRIMARY KEY (D_NUM);
   

INSERT INTO comdat VALUES((cd_seq.NEXTVAL),'c0000000000','abc123','신청했습니다~ 쪽주세요~', sysdate);
INSERT INTO comdat VALUES((cd_seq.NEXTVAL),'c0000000001','tjdus776','안녕따리 안녕 따', sysdate);
INSERT INTO comdat VALUES((cd_seq.NEXTVAL),'c0000000002','pow111','와 이런게 있네요.', sysdate);
INSERT INTO comdat VALUES((cd_seq.NEXTVAL),'c0000000003','joke12','저용 >< 이름은 단추입니당', sysdate);
INSERT INTO comdat VALUES((cd_seq.NEXTVAL),'c0000000004','play66','알바천국에 문의하세요.', sysdate);
INSERT INTO comdat VALUES((cd_seq.NEXTVAL),'c0000000005','ghost44','안사요', sysdate);


SELECT * FROM comdat;
DROP TABLE COMDAT;


-- 설문지 생성 table 
CREATE TABLE SURVEY
(
    S_SVCODE VARCHAR2(20) NOT NULL,     -- 설문지 코드
    S_CODE VARCHAR2(20) NOT NULL,       -- 소모임 코드
    S_TITLE VARCHAR2(200) NOT NULL,      -- 제목
    S_DATE DATE DEFAULT SYSDATE            -- 날짜
);

ALTER TABLE survey
    ADD CONSTRAINT S_SVCODE_PK PRIMARY KEY (s_svcode);

INSERT INTO SURVEY VALUES('s0000000000','c0000000000','관악구 사는 비숑 산책 같이해요', sysdate);
INSERT INTO SURVEY VALUES('s0000000001','c0000000001','개대신 사람 산책하실 분 신청 받습니다', sysdate);
INSERT INTO SURVEY VALUES('s0000000002','c0000000002','산책 조아합니다 일주일에 2번이상', sysdate);
INSERT INTO SURVEY VALUES('s0000000003','c0000000003','안양 산책러 구합니다', sysdate);

SELECT * FROM SURVEY; 
DROP TABLE SURVEY;

-- 설문지 문제 table 
CREATE TABLE SURVEY_DETAIL
(
    SD_NUMBER NUMBER(15) NOT NULL,      -- 시퀀스
    SD_SVCODE VARCHAR2(20) NOT NULL,    -- 설문지 코드
    SD_TYPE VARCHAR2(20) NOT NULL,      -- 질문 유형
    SD_TITLE VARCHAR2(200) NOT NULL,     -- 질문 제목
    SD_ORDER VARCHAR2(20) NOT NULL      -- 순서 코드
);

CREATE SEQUENCE sd_seq
  START WITH 1
  INCREMENT BY 1
  MAXVALUE 10000
  MINVALUE 1
  NOCYCLE;

ALTER TABLE survey_detail
    ADD CONSTRAINT SD_NUMBER_PK PRIMARY KEY (sd_number);
   
INSERT INTO SURVEY_DETAIL VALUES((sd_seq.NEXTVAL),'s0000000001','gaek','일주일에 산책 빈도수를 알려주세용ㅋ','od01');
INSERT INTO SURVEY_DETAIL VALUES((sd_seq.NEXTVAL),'s0000000001','check','가능한 요일을 모두 선택해주세요', 'od02');
INSERT INTO SURVEY_DETAIL VALUES((sd_seq.NEXTVAL),'s0000000001','ju','강아지종이 무엇인가요?', 'od03');
INSERT INTO SURVEY_DETAIL VALUES((sd_seq.NEXTVAL),'s0000000001','schedule','강아지 생일이 무엇인가요?', 'od04');
INSERT INTO SURVEY_DETAIL VALUES((sd_seq.NEXTVAL),'s0000000001','time','산책 시간대를 알려주세요', 'od05');
INSERT INTO SURVEY_DETAIL VALUES((sd_seq.NEXTVAL),'s0000000002','gaek','사람을 좋아하시나요 ?', 'od01');
INSERT INTO SURVEY_DETAIL VALUES((sd_seq.NEXTVAL),'s0000000002','ju','인간 존재 가치에 대해서 자신의 의견을 서술해주세요.', 'od02');
INSERT INTO SURVEY_DETAIL VALUES((sd_seq.NEXTVAL),'s0000000002','schedule','저의 생일은 언제일까요?', 'od03');

DROP TABLE SURVEY_DETAIL ;
SELECT * FROM SURVEY_DETAIL;

-- 설문지 문제 답변 table (문제에 따른 답변 생성)
CREATE TABLE SURVEY_CHOICE
(
    SC_NUMBER NUMBER(10) NOT NULL,      -- 시퀀스
    SC_SVCODE VARCHAR2(20) NOT NULL,    -- 설문지 코드
    SC_ORDER VARCHAR2(20) NOT NULL,     -- 순서 코드
    SC_ASCODE VARCHAR2(20) NOT NULL,    -- 답변 코드
    SC_ANSWER VARCHAR2(600) NULL    -- 답변 내용
);

CREATE SEQUENCE sc_seq
  START WITH 1
  INCREMENT BY 1
  MAXVALUE 10000
  MINVALUE 1
  NOCYCLE;

ALTER TABLE survey_choice
    ADD CONSTRAINT SC_NUMBER_PK PRIMARY KEY (SC_number);
   
INSERT INTO SURVEY_CHOICE VALUES((sc_seq.NEXTVAL),'s0000000001','od01','g01','0번');
INSERT INTO SURVEY_CHOICE VALUES((sc_seq.NEXTVAL),'s0000000001','od01','g02','1번');
INSERT INTO SURVEY_CHOICE VALUES((sc_seq.NEXTVAL),'s0000000001','od01','g03','2번');
INSERT INTO SURVEY_CHOICE VALUES((sc_seq.NEXTVAL),'s0000000001','od01','g04','3번 이상');
INSERT INTO SURVEY_CHOICE VALUES((sc_seq.NEXTVAL),'s0000000001','od02','c01','월요일');
INSERT INTO SURVEY_CHOICE VALUES((sc_seq.NEXTVAL),'s0000000001','od02','c02','화요일');
INSERT INTO SURVEY_CHOICE VALUES((sc_seq.NEXTVAL),'s0000000001','od02','c03','수요일');
INSERT INTO SURVEY_CHOICE VALUES((sc_seq.NEXTVAL),'s0000000001','od02','c04','목요일');
INSERT INTO SURVEY_CHOICE VALUES((sc_seq.NEXTVAL),'s0000000001','od02','c05','금요일');
INSERT INTO SURVEY_CHOICE VALUES((sc_seq.NEXTVAL),'s0000000001','od03','j01', null);
INSERT INTO SURVEY_CHOICE VALUES((sc_seq.NEXTVAL),'s0000000001','od04','s01', null);
INSERT INTO SURVEY_CHOICE VALUES((sc_seq.NEXTVAL),'s0000000001','od05','t01', null);
INSERT INTO SURVEY_CHOICE VALUES((sc_seq.NEXTVAL),'s0000000002','od01','g01','YES');
INSERT INTO SURVEY_CHOICE VALUES((sc_seq.NEXTVAL),'s0000000002','od01','g02','NO');
INSERT INTO SURVEY_CHOICE VALUES((sc_seq.NEXTVAL),'s0000000002','od02','j01', null);
INSERT INTO SURVEY_CHOICE VALUES((sc_seq.NEXTVAL),'s0000000002','od02','s01', null);

SELECT * FROM SURVEY_CHOICE;
DROP TABLE SURVEY_CHOICE;

-- 설문지 문제 답변 (설문지를 보고 회원이 직접 답변한 내용)
CREATE TABLE SURVEY_ANSWER
(
    SA_NUMBER NUMBER(10) NOT NULL,      -- 시퀀스
    SA_SVCODE VARCHAR2(20) NOT NULL,       -- 설문지 코드
    SA_ORDER VARCHAR2(10) NOT NULL,     -- 순서 코드
    SA_ASCODE VARCHAR2(10) NOT NULL,    -- 답변 코드
    USER_ID VARCHAR2(20) NOT NULL,      -- 회원 아이디
    SA_CONTENT VARCHAR2(600) NULL       -- 답변 내용
);

CREATE SEQUENCE sa_seq
  START WITH 1
  INCREMENT BY 1
  MAXVALUE 10000
  MINVALUE 1
  NOCYCLE;

ALTER TABLE survey_answer
    ADD CONSTRAINT SA_NUMBER_PK PRIMARY KEY (sa_number);

INSERT INTO SURVEY_ANSWER VALUES((sa_seq.NEXTVAL),'s0000000001','od01','g03','abc123','3번');
INSERT INTO SURVEY_ANSWER VALUES((sa_seq.NEXTVAL),'s0000000001','od02','c01','abc123','월요일');
INSERT INTO SURVEY_ANSWER VALUES((sa_seq.NEXTVAL),'s0000000001','od02','c03','abc123','수요일');
INSERT INTO SURVEY_ANSWER VALUES((sa_seq.NEXTVAL),'s0000000001','od03','j01','abc123','요크셔테리어');
INSERT INTO SURVEY_ANSWER VALUES((sa_seq.NEXTVAL),'s0000000001','od04','s01','abc123','2011-11-25');
INSERT INTO SURVEY_ANSWER VALUES((sa_seq.NEXTVAL),'s0000000001','od04','t01','abc123','13:00');
INSERT INTO SURVEY_ANSWER VALUES((sa_seq.NEXTVAL),'s0000000002','od01','g01','pow111','YES');
INSERT INTO SURVEY_ANSWER VALUES((sa_seq.NEXTVAL),'s0000000002','od02','j01','pow111','태어나서?');
INSERT INTO SURVEY_ANSWER VALUES((sa_seq.NEXTVAL),'s0000000002','od03','s01','pow111','2000-11-13');
INSERT INTO SURVEY_ANSWER VALUES((sa_seq.NEXTVAL),'s0000000002','od01','g02','ghost44','NO');
INSERT INTO SURVEY_ANSWER VALUES((sa_seq.NEXTVAL),'s0000000002','od02','j01','ghost44','지구멸망');
INSERT INTO SURVEY_ANSWER VALUES((sa_seq.NEXTVAL),'s0000000002','od03','s01','ghost44','1892-12-24');

DROP TABLE survey_answer;
SELECT * FROM survey_answer;
